<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>A Hora da Sua Morte</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Special+Elite&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body class="flash">
  <div class="app-fake">
    <h1 class="titulo">A Hora da Sua Morte</h1>
    <p class="intro">Você morrerá em:</p>

    <!-- Contador estilo filme -->
    <div id="deathTimer" class="timer">
      <div class="timer-block">
        <div class="timer-value" id="years">00</div>
        <div class="timer-label">YRS</div>
      </div>
      <div class="timer-block">
        <div class="timer-value" id="days">000</div>
        <div class="timer-label">DAY</div>
      </div>
      <div class="timer-block">
        <div class="timer-value" id="hours">00</div>
        <div class="timer-label">HRS</div>
      </div>
      <div class="timer-block">
        <div class="timer-value" id="minutes">00</div>
        <div class="timer-label">MIN</div>
      </div>
      <div class="timer-block">
        <div class="timer-value" id="seconds">00</div>
        <div class="timer-label">SEC</div>
      </div>
    </div>

    <!-- Premonição -->
    <p id="premonition" class="premonition"></p>

    <!-- Botão de cancelamento -->
    <button id="cancelBtn" onclick="tentarCancelar()">Tentar cancelar</button>
    <p id="cancelMessage" class="cancel-message" style="display:none;"></p>
  </div>

  <script>
    window.onbeforeunload = function () {
      return "Você não pode sair agora. O tempo está correndo.";
    };

    function gerarTempoAleatorio() {
      const anos = Math.floor(Math.random() * 2);
      const dias = Math.floor(Math.random() * 365);
      const horas = Math.floor(Math.random() * 24);
      const minutos = Math.floor(Math.random() * 60);
      const segundos = Math.floor(Math.random() * 60);

      return (
        (anos * 365 * 24 * 60 * 60) +
        (dias * 24 * 60 * 60) +
        (horas * 60 * 60) +
        (minutos * 60) +
        segundos
      );
    }

    function atualizarContador(segundosTotais) {
      const years = Math.floor(segundosTotais / (365 * 24 * 60 * 60));
      segundosTotais %= (365 * 24 * 60 * 60);
      const days = Math.floor(segundosTotais / (24 * 60 * 60));
      segundosTotais %= (24 * 60 * 60);
      const hours = Math.floor(segundosTotais / (60 * 60));
      segundosTotais %= (60 * 60);
      const minutes = Math.floor(segundosTotais / 60);
      const seconds = segundosTotais % 60;

      document.getElementById("years").textContent = String(years).padStart(2, '0');
      document.getElementById("days").textContent = String(days).padStart(3, '0');
      document.getElementById("hours").textContent = String(hours).padStart(2, '0');
      document.getElementById("minutes").textContent = String(minutes).padStart(2, '0');
      document.getElementById("seconds").textContent = String(seconds).padStart(2, '0');
    }

    function iniciarContagem(segundos) {
      atualizarContador(segundos);
      setInterval(() => {
        segundos--;
        atualizarContador(segundos);
      }, 1000);
    }

    function gerarPremonicao() {
      const mensagens = [
        "Evite escadas hoje.",
        "Cuidado com o sinal verde.",
        "Preste atenção no chuveiro.",
        "A buzina pode ser o último som que você ouvirá.",
        "Não confie no travesseiro.",
        "O cheiro de gás não é coincidência.",
        "A porta do elevador pode não abrir.",
        "O reflexo no espelho não é seu.",
        "Você vai ouvir meu nome antes de dormir.",
        "O último gole pode ser o mais perigoso.",
        "A luz do seu quarto acabou de piscar, não foi?",
        "Você está sendo observado enquanto lê isso."
      ];

      const aleatoria = mensagens[Math.floor(Math.random() * mensagens.length)];
      document.getElementById("premonition").textContent = aleatoria;
    }

    function tentarCancelar() {
      const btn = document.getElementById("cancelBtn");
      const msg = document.getElementById("cancelMessage");

      btn.style.display = "none";
      msg.textContent = "⛔ Cancelamento negado. O destino já foi selado.";
      msg.style.display = "block";
      document.body.classList.add("flash-intensa");
    }

    window.onload = () => {
      const tempoInicial = gerarTempoAleatorio();
      iniciarContagem(tempoInicial);
      gerarPremonicao();
    };
  </script>
</body>
</html>
