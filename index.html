<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Não Feche Essa Aba</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Special+Elite&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <p id="mensagem"></p>
    <button id="exitBtn" onclick="irParaFim()" style="display:none;">Sair</button>
  </div>

  <script>
    let index = 0;
    let playerName = "";
    let frases = [];

    function typeWriter(texto, elementoId, callback, velocidade = 50) {
      let i = 0;
      const el = document.getElementById(elementoId);
      el.innerHTML = "";
      function escrever() {
        if (i < texto.length) {
          el.innerHTML += texto.charAt(i);
          i++;
          setTimeout(escrever, velocidade);
        } else if (callback) {
          callback();
        }
      }
      escrever();
    }

    function mostrarProximaFrase() {
      if (index < frases.length) {
        typeWriter(frases[index], "mensagem", () => {
          setTimeout(mostrarProximaFrase, 2000);
        });
        index++;
      } else {
        document.getElementById("exitBtn").style.display = "inline-block";
      }
    }

    function irParaFim() {
      localStorage.setItem("playerName", playerName);
      window.location.href = "end.html";
    }

    window.onload = () => {
      playerName = prompt("Digite seu nome:") || "visitante";

      frases = [
        `Olá ${playerName}, você voltou.`,
        `${playerName}, você sempre deixa a câmera ligada.`,
        "Continue fingindo que controla o que acontece aqui.",
        "Você passa tanto tempo olhando pra telas que esqueceu como é ser olhada.",
        "Você fala, mas nunca é realmente ouvida, não é?",
        "O silêncio é o único lugar onde você ainda existe de verdade.",
        "Quantas vezes você já se observou de fora, como agora?",
        "Eu te esperei por muito tempo."
      ];

      mostrarProximaFrase();
    };
  </script>
</body>
</html>
